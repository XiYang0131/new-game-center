<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Browse [CATEGORY_NAME] games on NeoArcade - Free online games with no downloads">
    <title>[CATEGORY_NAME] Games - NeoArcade</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/cyberpunk.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="icon" href="../assets/images/favicon.ico">
</head>
<body class="no-js">
    <header>
        <div class="logo-container">
            <h1 class="neon-text">NeoArcade</h1>
            <p class="glitch-text">Future Games, At Your Fingertips</p>
        </div>
        <nav>
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="action.html" class="[ACTION_ACTIVE]">Action Games</a></li>
                <li><a href="puzzle.html" class="[PUZZLE_ACTIVE]">Puzzle Games</a></li>
                <li><a href="strategy.html" class="[STRATEGY_ACTIVE]">Strategy Games</a></li>
                <li><a href="rpg.html" class="[RPG_ACTIVE]">Role Playing</a></li>
                <li><a href="../about.html">About Us</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="category-header">
            <div class="container">
                <h1>[CATEGORY_NAME] Games</h1>
                <p>Explore our collection of [CATEGORY_DESCRIPTION] games</p>
            </div>
        </section>

        <section class="games-section">
            <div class="container">
                <div class="game-grid" id="category-games">
                    <!-- 游戏卡片将通过JavaScript动态生成 -->
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-logo">
                <h2>NeoArcade</h2>
                <p>Future Games, At Your Fingertips</p>
            </div>
            <div class="footer-links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../all-games.html">All Games</a></li>
                    <li><a href="../about.html">About Us</a></li>
                    <li><a href="../contact.html">Contact Us</a></li>
                </ul>
            </div>
            <div class="footer-categories">
                <h3>Game Categories</h3>
                <ul>
                    <li><a href="action.html">Action Games</a></li>
                    <li><a href="puzzle.html">Puzzle Games</a></li>
                    <li><a href="strategy.html">Strategy Games</a></li>
                    <li><a href="rpg.html">Role Playing</a></li>
                    <li><a href="arcade.html">Arcade Games</a></li>
                    <li><a href="simulation.html">Simulation Games</a></li>
                    <li><a href="casual.html">Casual Games</a></li>
                    <li><a href="adventure.html">Adventure Games</a></li>
                    <li><a href="idle.html">Idle Games</a></li>
                </ul>
            </div>
            <div class="footer-social">
                <h3>Follow Us</h3>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2023 NeoArcade. All rights reserved.</p>
        </div>
    </footer>

    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/games.js"></script>
    <script src="../assets/js/search.js"></script>
    <script src="../assets/js/share.js"></script>
    <script>
        // 加载特定分类的游戏
        document.addEventListener('DOMContentLoaded', function() {
            // 获取游戏数据
            const games = window.gameData || [];
            if (!games || games.length === 0) {
                console.error('No game data available');
                return;
            }
            
            // 过滤当前分类的游戏
            const categoryGames = games.filter(game => game.category === '[CATEGORY_KEY]');
            console.log('Found', categoryGames.length, 'games in category [CATEGORY_KEY]');
            
            // 获取游戏网格
            const gameGrid = document.getElementById('category-games');
            if (!gameGrid) {
                console.error('Game grid not found');
                return;
            }
            
            // 清空网格
            gameGrid.innerHTML = '';
            
            // 如果没有游戏
            if (categoryGames.length === 0) {
                const noGames = document.createElement('p');
                noGames.className = 'no-games';
                noGames.textContent = 'No games found in this category. Check back later for updates!';
                gameGrid.appendChild(noGames);
                return;
            }
            
            // 添加游戏卡片
            categoryGames.forEach(game => {
                // 创建游戏卡片元素
                const gameCard = document.createElement('div');
                gameCard.className = 'game-card';
                
                // 确保图片路径正确
                const imagePath = game.image.startsWith('http') ? game.image : `../${game.image}`;
                const placeholderPath = '../assets/images/placeholder.jpg';
                
                // 设置游戏卡片内容
                gameCard.innerHTML = `
                    <div class="game-thumbnail">
                        <img src="${placeholderPath}" data-src="${imagePath}" alt="${game.title}" class="lazy-image">
                        <div class="share-button">
                            <i class="fas fa-share-alt"></i>
                            <div class="share-dropdown">
                                <a href="https://twitter.com/intent/tweet?url=https://neoarcade.com/${game.url}&text=Check out this awesome ${game.title} game!" target="_blank"><i class="fab fa-twitter"></i> Twitter</a>
                                <a href="https://www.facebook.com/sharer/sharer.php?u=https://neoarcade.com/${game.url}" target="_blank"><i class="fab fa-facebook"></i> Facebook</a>
                                <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://neoarcade.com/${game.url}" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a>
                                <a href="https://pinterest.com/pin/create/button/?url=https://neoarcade.com/${game.url}&media=https://neoarcade.com/${game.image}&description=${game.title}" target="_blank"><i class="fab fa-pinterest"></i> Pinterest</a>
                                <a href="https://api.whatsapp.com/send?text=Check out this awesome ${game.title} game! https://neoarcade.com/${game.url}" target="_blank"><i class="fab fa-whatsapp"></i> WhatsApp</a>
                                <a href="#" class="copy-link" data-url="https://neoarcade.com/${game.url}"><i class="fas fa-link"></i> Copy Link</a>
                            </div>
                        </div>
                    </div>
                    <div class="game-info">
                        <h3>${game.title}</h3>
                        <p>${game.description}</p>
                        <div class="game-meta">
                            <span class="category">${game.category}</span>
                            <span class="rating">${game.rating}</span>
                        </div>
                        <a href="../${game.url}" class="play-button">Play Now</a>
                    </div>
                `;
                
                // 添加点击事件
                const playButton = gameCard.querySelector('.play-button');
                if (playButton) {
                    gameCard.style.cursor = 'pointer';
                    gameCard.addEventListener('click', function(e) {
                        // 如果点击的不是分享按钮或分享下拉菜单，则导航到游戏页面
                        if (!e.target.closest('.share-button') && !e.target.closest('.share-dropdown')) {
                            window.location.href = playButton.href;
                        }
                    });
                }
                
                // 将游戏卡片添加到网格
                gameGrid.appendChild(gameCard);
            });
            
            // 设置分享功能
            document.querySelectorAll('.copy-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const url = this.getAttribute('data-url');
                    if (url) {
                        navigator.clipboard.writeText(url).then(() => {
                            showToast('Link copied to clipboard!');
                        }).catch(err => {
                            console.error('Could not copy text: ', err);
                        });
                    }
                });
            });
        });
        
        // 显示提示消息
        function showToast(message) {
            let toast = document.querySelector('.share-toast');
            if (!toast) {
                toast = document.createElement('div');
                toast.className = 'share-toast';
                document.body.appendChild(toast);
            }
            
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html> 